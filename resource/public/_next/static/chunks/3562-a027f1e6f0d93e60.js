"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3562],{83562:function(e,t,r){r.d(t,{ZP:function(){return eV}});var n,s,a=r(90038),i=r(36112),o=r(73700),l=r(33322),c=r(32148),u=r(19841),d=r(70079),f=r(1454),p=r(70671),h=r(32004),m=r(94968),g=r(91559),x=r(7144),v=r(18008),j=r(15136),y=r(26822),b=r(20225),w=r(73040),k=r.n(w),P=r(21389),O=r(90166),N=r(38766),M=r(17080),C=r(14972),Z=r(46001),S=r(66044),T=r(50134),I=r(4399),D=r.n(I),_=r(73659),F=r(66027),L=r(1890),E=r(25349),W=r(99893),A=r(10721),z=r(62442),R=r(63866),H=r(4748),U=r(97296),G=r(61236),B=r(14765),V=r(35250);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Y(e){var t=e.showFreeTrialLoadingPayment,r=e.handleGetPaymentLink,n=(0,p.Z)(),s=(0,G.a)({queryKey:["claimedReferralInvite"],queryFn:function(){return F.ZP.getClaimedReferralInvite()},refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,refetchOnReconnect:!1}),a=s.data,i=s.isLoading,o=s.isSuccess,l=null==a?void 0:a.invite_code,c=(0,d.useState)(!1),m=c[0],g=c[1];if((0,d.useEffect)(function(){l&&!m&&o&&(g(!0),B.m9.logEvent("chatgpt_referral_show_claimed_sidebar_menu_promo"),E.A.logEvent(W.M.chatgptReferralShowClaimedSidebartMenuPromo))},[l,g,m,o]),!l||i||!o)return null;var x=l.invite_metadata.invite_data,v=null!=x&&x.referral_trial_duration_months?(null==x?void 0:x.referral_trial_duration_months)>1?n.formatMessage(Q.monthsOfBenefit,{referralTrialDurationMonths:null==x?void 0:x.referral_trial_duration_months}):n.formatMessage(Q.daysOfBenefit,{referralTrialDurationDays:null==x?void 0:x.referral_trial_duration_days}):null;return(0,V.jsx)(U.E.div,{className:(0,u.default)("relative",{"cursor-progress opacity-50":t}),layout:"position",initial:{y:-10,opacity:1},animate:{y:0,opacity:1,transition:{duration:.1,ease:"easeIn"}},children:(0,V.jsxs)(K,{className:(0,u.default)(t&&"opacity-75"),onClick:function(){t||((0,z.Vk)(!0),r())},children:[(0,V.jsxs)("div",{className:"flex w-full flex-row items-center justify-start gap-3 ",children:[(0,V.jsx)(f.E33,{className:"icon-sm shrink-0"}),(0,V.jsx)(h.Z,$($({},Q.freeTrialCta),{},{values:{duration:v}}))]}),!t&&(0,V.jsx)(f.q5L,{onClick:function(e){e.stopPropagation(),(0,z.zG)(!0),(0,z.H1)(!0)},className:"icon-md shrink-0 rounded-full p-0.5 text-gray-400 opacity-50  transition-colors duration-200 hover:bg-[#0077FF] hover:text-red-500  group-hover:opacity-100"}),(0,V.jsx)("span",{className:"absolute top-11 h-0 w-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-[#0077FF] transition-colors duration-200 group-hover:border-t-[#0077FF]"})]})})}var K=P.Z.a(n||(n=(0,a.Z)(["group relative mb-1 rounded-md hover:[#0077FF] bg-[#0077FF] flex px-3 min-h-[44px] py-1 items-center gap-3 transition-colors duration-200 dark:text-white cursor-pointer text-sm"]))),Q=(0,m.vU)({freeTrialCta:{id:"PaymentMenuItems.freeTrialCta",defaultMessage:"Get {duration}!"},monthsOfBenefit:{id:"FreeTrialMenuItem.monthsOfBenefit",defaultMessage:"{referralTrialDurationMonths, plural, one {one month free} other {# months free}}"},daysOfBenefit:{id:"FreeTrialMenuItem.daysOfBenefit",defaultMessage:"{referralTrialDurationDays, plural, one {one day free} other {# days free}}"}}),J=r(83071),X=r(5063),ee=r(22364);function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function en(){var e,t,r,n,s,a,i,o,l=(0,A.useRouter)(),c=(0,p.Z)(),u=(0,x.hz)(),f=(0,x.t)(),m=null!==(t=null==f?void 0:f.hasPaidSubscription())&&void 0!==t&&t,g=null!==(r=null==f?void 0:f.hasClaimedFreeTrial())&&void 0!==r&&r,v=(e=(0,T.Z)(D().mark(function e(){var t;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,z.Vk)(!0),E.A.logEvent(W.M.clickAccountPaymentCheckout),e.prev=2,e.next=5,F.ZP.getCheckoutLink();case 5:t=e.sent,l.push(t.url),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),H.m.warning(c.formatMessage(eo.paymentErrorWarning),{hasCloseButton:!0}),(0,z.Vk)(!1);case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,null,[[2,9,13,15]])})),function(){return e.apply(this,arguments)}),j=(0,z.tS)(function(e){return e.didCloseFreeTrial}),y=(0,z.tS)(function(e){return e.showFreeTrialLoadingPayment}),b=!j&&g,w=!m&&!(null!=u&&u.includes("disable_upgrade_ui")),k=null!==(n=null==f?void 0:f.wasPaidCustomer())&&void 0!==n&&n,P=null!==(s=null==f?void 0:f.isWorkspaceAccount())&&void 0!==s&&s,O=null!==(a=null==f?void 0:f.isPlus())&&void 0!==a&&a,N=!!f&&!P&&(!1===O||null!==(i=null==u?void 0:u.includes(L.L0.Teams))&&void 0!==i&&i),M=(0,ee.C)(function(e){return{setShowReferralInviteModal:e.setShowReferralInviteModal}}).setShowReferralInviteModal,C=(0,d.useCallback)(function(){B.m9.logEvent("chatgpt_referral_invite_sidebar_clicked"),E.A.logEvent(W.M.chatgptReferralInviteSidebarClicked),M(!0,function(){E.A.logEvent(W.M.clickSidebarAccountPaymentMenuItem)})},[M]),Z=null!==(o=null==f?void 0:f.isTeam())&&void 0!==o&&o;return(0,V.jsxs)(V.Fragment,{children:[((null==u?void 0:u.includes(L.a3))||m)&&(0,V.jsx)(ei,{handleReferralInvite:C}),!m&&b&&(0,V.jsx)(Y,{showFreeTrialLoadingPayment:y,handleGetPaymentLink:v}),Z&&(0,V.jsx)(ea,{}),N&&(0,V.jsx)(J.Vq,{onClick:b?function(){y||((0,z.Vk)(!0),v())}:function(){E.A.logEvent(W.M.clickSidebarAccountPaymentMenuItem);var e=l.asPath.split("#");l.push("".concat(e[0],"#pricing"))},className:"rounded-lg px-2",children:(0,V.jsxs)("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:[(0,V.jsx)("div",{className:"flex items-center gap-2",children:(0,V.jsx)(es,{wasPaidCustomer:k,showFreeTrialLoadingPayment:y,hasPlusSubscription:O})}),!(null!=u&&u.includes(L.a3))&&w&&!k&&(0,V.jsx)("span",{className:"rounded-md bg-yellow-200 px-2 py-0.5 text-xs font-medium uppercase text-gray-800",children:(0,V.jsx)(h.Z,er({},eo.newLabel))})]})})]})}var es=function(e){var t=e.wasPaidCustomer,r=e.showFreeTrialLoadingPayment,n=e.hasPlusSubscription;return r?(0,V.jsx)(R.Z,{className:"icon-sm shrink-0"}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light bg-black",children:(0,V.jsx)(X.k4,{className:"icon-sm shrink-0"})}),(0,V.jsx)("div",{className:"flex flex-col",children:t?(0,V.jsx)(h.Z,er({},eo.renewPlus)):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("span",{className:"font-semibold",children:(0,V.jsx)(h.Z,er({},eo.upgradePlan))}),(0,V.jsx)("span",{className:"text-xs text-token-text-secondary line-clamp-1",children:n?(0,V.jsx)(h.Z,er({},eo.upgradeToTeamUpsell)):(0,V.jsx)(h.Z,er({},eo.upgradeToPlusUpsell))})]})})]})},ea=function(){var e=(0,x.t)();return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(J.Vq,{onClick:function(){v.vm.openModal(v.B.InviteUsersToWorkspace)},className:"rounded-md",children:(0,V.jsx)("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:(0,V.jsxs)("span",{className:"flex items-center gap-2",children:[(0,V.jsx)(f.zy7,{className:"icon-sm shrink-0"}),(0,V.jsx)(h.Z,er({},eo.inviteMembers))]})})}),null!=e?(0,V.jsx)(_.Z,{workspace:e}):null]})},ei=function(e){var t,r=e.handleReferralInvite,n=(0,x.hz)(),s=null!==(t=null==n?void 0:n.includes(L.a3))&&void 0!==t&&t,a=(0,G.a)({queryKey:["referralInvites"],queryFn:function(){return F.ZP.getEligibleReferralInvites()},enabled:s}),i=a.data,o=a.isSuccess,l=(null==i?void 0:i.invites_remaining)&&(null==i?void 0:i.invites_remaining)>0&&o,c=(0,d.useState)(!1),u=c[0],p=c[1];return((0,d.useEffect)(function(){l&&!u&&(p(!0),B.m9.logEvent("chatgpt_referral_show_sidebar_menu_item"),E.A.logEvent(W.M.chatgptReferralShowSidebarMenuItem))},[l,p,u]),l)?(0,V.jsx)(J.Vq,{onClick:r,className:"rounded-md",children:(0,V.jsxs)("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:[(0,V.jsxs)("span",{className:"flex items-center gap-2",children:[(0,V.jsx)(f.zy7,{className:"icon-sm shrink-0"}),(0,V.jsx)(h.Z,er({},eo.inviteReferral))]}),(0,V.jsx)("span",{className:"rounded-md bg-yellow-200 px-2 py-0.5 text-xs font-medium uppercase text-gray-800",children:(0,V.jsx)(h.Z,er({},eo.newLabel))})]})}):null},eo=(0,m.vU)({upgradePlan:{id:"PaymentMenuItems.upgradePlan",defaultMessage:"Upgrade plan"},upgradeToTeamUpsell:{id:"PaymentMenuItems.upgradeToTeamUpsell",defaultMessage:"Collaborate on a Team plan"},upgradeToPlusUpsell:{id:"PaymentMenuItems.upgradeToPlusUpsell.0",defaultMessage:"Get GPT-4, DALL\xb7E, and more"},renewPlus:{id:"PaymentMenuItems.renewPlus",defaultMessage:"Renew Plus"},inviteReferral:{id:"PaymentMenuItems.inviteReferral",defaultMessage:"Refer a friend"},inviteMembers:{id:"PaymentMenuItems.inviteMembers.0",defaultMessage:"Invite members"},newLabel:{id:"PaymentMenuItems.newLabel",defaultMessage:"NEW"},paymentErrorWarning:{id:"PaymentMenuItems.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."}}),el=r(6939),ec=r(6027),eu=r(73797),ed=r(73582),ef=r(5974),ep=r(40318),eh=r(7813),em=r(47428),eg=r(61888),ex=r(90387),ev=r(218),ej=r(41202),ey=r(36638),eb=r(76387),ew=r(28818);function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eO(){var e=(0,x.t)(),t=(0,d.useCallback)(function(){E.A.logEvent(W.M.clickSidebarAccountPortalMenuItem),(0,ey.MG)()},[]);return(0,V.jsxs)(V.Fragment,{children:[(null==e?void 0:e.hasPaidSubscription())&&(0,V.jsxs)(J.ZP,{onClick:t,children:[(0,V.jsx)(X.PQ,{className:"icon-md"}),(0,V.jsx)(h.Z,eP({},eN.myPlan))]}),(null==e?void 0:e.canInteractWithGizmos())&&(0,V.jsxs)(J.ZP,{href:(0,ew.L7)(),children:[(0,V.jsx)(X.PN,{className:"icon-md"}),(0,V.jsx)(h.Z,eP({},eN.myGpts))]}),(0,V.jsxs)(J.ZP,{onClick:function(){return v.vm.openModal(v.B.UserContext)},children:[(0,V.jsx)(X.SA,{className:"icon-md"}),(0,V.jsx)(h.Z,eP({},eN.chatPreferences))]})]})}var eN=(0,m.vU)({myPlan:{id:"popoverNavigation.myPlan",defaultMessage:"My plan"},chatPreferences:{id:"popoverNavigation.chatPreferences",defaultMessage:"Custom instructions"},myGpts:{id:"popoverNavigation.myGpts",defaultMessage:"My GPTs"}});function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eZ(){return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(eS,{href:"/admin",children:[(0,V.jsx)(X.oq,{className:"icon-md"}),(0,V.jsx)(h.Z,eC({},eT.myWorkspaceSettings))]}),(0,V.jsxs)(eS,{href:(0,ew.L7)(),children:[(0,V.jsx)(X.PN,{className:"icon-md"}),(0,V.jsx)(h.Z,eC({},eT.myGpts))]}),(0,V.jsxs)(J.ZP,{onClick:function(){return v.vm.openModal(v.B.UserContext)},children:[(0,V.jsx)(X.SA,{className:"icon-md"}),(0,V.jsx)(h.Z,eC({},eT.chatPreferences))]})]})}function eS(e){var t=e.href,r=e.children;return(0,V.jsx)(eh.v.Item,{children:function(e){var n=e.active;return(0,V.jsx)(k(),{href:t,children:(0,V.jsx)(J.ZB,{$as:"span",className:(0,u.default)(n?"bg-gray-100 dark:bg-gray-800":"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800"),children:r})})}})}var eT=(0,m.vU)({myWorkspaceSettings:{id:"workspacePopoverNavigation.myWorkspaceSettings",defaultMessage:"Manage workspace"},chatPreferences:{id:"workspacePopoverNavigation.chatPreferences",defaultMessage:"Custom instructions"},myGpts:{id:"workspacePopoverNavigation.myGpts",defaultMessage:"My GPTs"}});function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e_(e){var t=e.onClickSettings;return(0,V.jsxs)(eh.v,{as:"div",className:"group relative",children:[(0,V.jsx)(eR,{}),(0,V.jsx)(ej.m,{children:(0,V.jsx)(eh.v.Items,{className:"absolute bottom-full left-0 z-20 mb-1 w-full overflow-hidden rounded-lg border border-gray-100 bg-white pb-1.5 pt-1 outline-none dark:border-gray-800 dark:bg-gray-900",children:(0,V.jsx)(ez,{onClickSettings:t})})})]})}function eF(){var e=(0,x.hz)(),t=(0,p.Z)(),r=(0,ed.aF)();return r?(0,V.jsxs)("div",{className:"flex items-center justify-between gap-2 px-3 pb-0 pt-2",children:[(0,V.jsx)("div",{className:"text-xs text-token-text-secondary",children:null==r?void 0:r.email}),(null==e?void 0:e.includes(L.L0.Teams))&&(0,V.jsx)(O.u,{label:t.formatMessage(eU.addWorkspaceTooltip),side:"right",children:(0,V.jsx)("button",{onClick:function(){return(0,ey.MG)()},children:(0,V.jsx)(f.OvN,{className:"icon-sm flex-shrink-0 text-token-text-primary"})})})]}):null}function eL(){var e=(0,x.t)();return null==e?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{className:"w-full px-3 py-2",children:(0,V.jsx)(R.Z,{})}),(0,V.jsx)(J.R,{})]}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(eF,{}),(0,V.jsx)("div",{className:"flex h-11 w-full items-center justify-start gap-3 px-3 py-1 text-sm",children:(0,V.jsx)(eW,{workspace:e,isLoading:!1,currentWorkspaceId:e.id,showCheck:!1})}),(0,V.jsx)(J.R,{})]})}function eE(){var e=(0,x.rk)().data,t=(0,x.t)(),r=(0,d.useState)(!1),n=r[0],s=r[1];if(null==e)return null;var a=e.accountItems,i=(0,eg.compact)([a.find(function(e){return e.isPersonalAccount()})].concat((0,el.Z)(a.filter(function(e){return!e.isPersonalAccount()}))));return i.sort(function(e,t){return e.isPersonalAccount()?1:t.isPersonalAccount()?-1:0}),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(eF,{}),(0,V.jsx)("div",{className:"flex w-full flex-col",children:i.map(function(e){return(0,V.jsx)(J.ZP,{disabled:e.isDeactivated(),onClick:function(){e.id!==(null==t?void 0:t.id)&&(s(!0),(0,x.nq)(e.id),(0,ep.M)())},children:(0,V.jsx)("div",{className:"flex w-full items-center justify-start gap-3 py-1",children:e.isDeactivated()?(0,V.jsx)(eA,{workspace:e,isLoading:n}):(0,V.jsx)(eW,{workspace:e,isLoading:n,currentWorkspaceId:null==t?void 0:t.id})})},e.id)})}),(0,V.jsx)(J.R,{})]})}function eW(e){var t=e.workspace,r=e.isLoading,n=e.currentWorkspaceId,s=e.showCheck;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ex.zf,{iconSize:"small",workspace:t,className:(0,u.default)({"flex-shrink-0":!0})}),(0,V.jsx)("div",{className:(0,u.default)({"flex-grow truncate":!0}),children:(0,ev.CV)((0,p.Z)(),t)}),r&&(0,V.jsx)(R.Z,{}),!r&&(void 0===s||s)&&(0,V.jsx)("div",{className:(0,u.default)("m-1 flex h-4 w-4 flex-shrink-0 rounded-full border align-middle",{"bg-white":t.id===n}),children:t.id===n&&(0,V.jsx)(f.UgA,{className:"m-auto h-3 w-3 scale-x-75 stroke-black stroke-[4]"})})]})}function eA(e){var t=e.workspace,r=e.isLoading,n=(0,p.Z)(),s=t.isOwnerOfAccount(),a=(0,d.useState)(!1),i=a[0],o=a[1],l=(0,ec.p5)(t.id);return(0,d.useEffect)(function(){null!=l&&i&&(v.vm.setPurchaseWorkspaceData({minimumSeats:l>eb.Y6?l:eb.Y6,existingAccount:t}),o(!1))},[l,i,t]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(O.u,{className:"flex w-full flex-1 items-center gap-3",label:n.formatMessage(eU.disabledWorkspaceTooltip),sideOffset:52,side:"right",children:[(0,V.jsx)(C._V,{className:"icon-sm flex-shrink-0 opacity-30"}),(0,V.jsx)("div",{className:"truncate opacity-30",children:(0,ev.CV)(n,t)})]}),r&&(0,V.jsx)(R.Z,{}),!r&&(0,V.jsxs)(eu.Z.Root,{children:[(0,V.jsx)(em.xz,{className:"rounded text-center hover:bg-token-surface-secondary",children:(0,V.jsx)(f.K9M,{className:"icon-sm m-1"})}),(0,V.jsx)(eu.Z.Portal,{children:(0,V.jsxs)(eu.Z.Content,{children:[s&&(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(eu.Z.Item,{onClick:function(){null==l?o(!0):v.vm.setPurchaseWorkspaceData({minimumSeats:l>eb.Y6?l:eb.Y6,existingAccount:t})},children:i?(0,V.jsx)(R.Z,{}):(0,V.jsx)(h.Z,{id:"navigation.reactivateWorkspace",defaultMessage:"Reactivate workspace"})})}),(0,V.jsx)(eu.Z.Item,{onClick:function(){v.vm.setLeaveWorkspaceData(t)},children:(0,V.jsx)(h.Z,{id:"navigation.leaveWorkspace",defaultMessage:"Leave workspace"})})]})})]})]})}function ez(e){var t=e.onClickSettings,r=(0,x.rk)().data,n=(0,x.t)(),s=(0,ef.w$)();if(!n||!r)return null;var a=n.hasPaidSubscription(),i=n.isWorkspaceAccount(),o=r.accountItems.length>1;return(0,V.jsxs)("nav",{children:[o?(0,V.jsx)(eE,{}):i&&(0,V.jsx)(eL,{}),i?(0,V.jsx)(eZ,{}):(0,V.jsx)(eO,{}),!s&&(0,V.jsxs)(J.ZP,{as:"a",href:"https://help.openai.com/en/collections/3742473-chatgpt",target:"_blank",onClick:function(){E.A.logEvent(W.M.clickFaqLink)},children:[(0,V.jsx)(X.dJ,{className:"icon-md"}),(0,V.jsx)(h.Z,eD({},eU.helpAndFaq))]}),(0,V.jsxs)(J.ZP,{onClick:t,children:[(0,V.jsx)(X.RR,{className:"icon-md"}),a?(0,V.jsx)(h.Z,eD({},eU.settingsPlus)):(0,V.jsx)(h.Z,eD({},eU.settings))]}),(0,V.jsx)(J.R,{}),(0,V.jsxs)(J.ZP,{onClick:function(){E.A.logEvent(W.M.clickLogOut,{eventSource:"mouse"}),(0,j.w7)()},children:[(0,V.jsx)(X.gj,{className:"icon-md"}),(0,V.jsx)(h.Z,eD({},eU.logOut))]})]})}function eR(){return(0,ed.aF)()?(0,V.jsx)(eH,{}):null}function eH(){var e=(0,x.rk)().data,t=(0,x.t)(),r=(0,ev.$3)(),n=(0,ev.cI)();if(!t||!e)return null;var s=t.isWorkspaceAccount(),a=e.accountItems.length>1;return(0,V.jsxs)(eh.v.Button,{className:"flex w-full items-center gap-2 rounded-lg p-2 text-sm hover:bg-gray-100 hover:bg-token-surface-primary group-ui-open:bg-gray-100 group-ui-open:bg-token-surface-primary dark:hover:bg-token-surface-primary dark:group-ui-open:bg-gray-800  dark:group-ui-open:bg-token-surface-primary",children:[(0,V.jsx)("div",{className:"flex-shrink-0",children:(0,V.jsx)(ex.zf,{iconSize:"gizmo"})}),(0,V.jsxs)("div",{className:"relative -top-px grow -space-y-px overflow-hidden text-ellipsis whitespace-nowrap text-left text-gray-700 dark:text-white",children:[(0,V.jsx)("div",{className:"font-semibold",children:n}),s||a?(0,V.jsx)("div",{className:"text-xs text-gray-500",children:r}):null]})]})}var eU=(0,m.vU)({helpAndFaq:{id:"navigation.helpAndFaq",defaultMessage:"Help & FAQ"},settings:{id:"navigation.settings",defaultMessage:"Settings"},settingsPlus:{id:"navigation.settingsPlus",defaultMessage:"Settings & Beta"},logOut:{id:"navigation.logOut",defaultMessage:"Log out"},takeSurveyButton:{id:"navigation.survey.takeSurveyButton",defaultMessage:"Take survey"},surveyDismiss:{id:"navigation.surveyDismiss",defaultMessage:"Dismiss survey"},surveyDescription:{id:"navigation.surveyDescription",defaultMessage:"Shape the future of ChatGPT."},surveyTitle:{id:"navigation.surveyTitle",defaultMessage:"Weâ€™d love to hear from you!"},accountSwitcherTitle:{id:"navigation.accountSwitcherTitle",defaultMessage:"Workspaces"},defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace"},addWorkspaceTooltip:{id:"navigation.addWorkspaceTooltip",defaultMessage:"Create a Team workspace"},disabledWorkspaceTooltip:{id:"navigation.disabledWorkspaceTooltip",defaultMessage:"This workspace has been deactivated"}});function eG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eG(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eV(e){var t=e.onNewThread,r=e.currentGizmoId,n=e.children,s=(0,p.Z)(),a=(0,x.t)(),i=null==a?void 0:a.isWorkspaceAccount(),o=(0,d.useRef)(null),l=(0,N.V_)(),m=(0,Z.Fr)().openSettings;(0,d.useEffect)(function(){N._P.getModifiedSettings()&&m()},[]);var v=(0,d.useCallback)(function(){t(),N._P.enableHistory()},[t]),j=(0,V.jsxs)("div",{className:(0,u.default)("absolute left-0 top-0 z-20 overflow-hidden transition-all duration-500",l?"visible max-h-72":"invisible max-h-0"),children:[(0,V.jsx)("div",{className:"px-3 py-3.5",children:(0,V.jsx)(M.jl,{gizmo:void 0,historyDisabled:!0,isActive:void 0===r})}),(0,V.jsxs)("div",{className:"bg-gray-900 px-4 py-3",children:[(0,V.jsx)("div",{className:"p-1 text-sm text-gray-100",children:(0,V.jsx)(h.Z,eB({},eK.chatHistoryOff))}),(0,V.jsx)("div",{className:"p-1 text-xs text-gray-500",children:(0,V.jsx)(h.Z,eB(eB({},i?eK.chatHistoryOffDescriptionBusiness:eK.chatHistoryOffDescription),{},{values:{learnMore:(0,V.jsx)("a",{href:"https://help.openai.com/en/articles/7730893",target:"_blank",className:"underline",rel:"noreferrer",children:(0,V.jsx)(h.Z,eB({},eK.learnMore))}),b:function(e){return(0,V.jsx)("strong",{children:e})}}}))}),(0,V.jsxs)(g.z,{className:"mt-4 w-full",onClick:v,color:"primary",size:"medium",children:[(0,V.jsx)(f.$IY,{className:"icon-sm"}),(0,V.jsx)(h.Z,eB({},eK.enableChatHistory))]})]}),(0,V.jsx)("div",{className:"h-24 bg-gradient-to-t from-gray-900/0 to-gray-900"})]});return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("div",{className:"scrollbar-trigger relative h-full w-full flex-1 items-start border-white/20",children:[(0,V.jsx)(c.f,{asChild:!0,children:(0,V.jsx)("h2",{children:(0,V.jsx)(h.Z,eB({},eK.chatHistoryLabel))})}),(0,V.jsxs)("nav",{className:"flex h-full w-full flex-col px-3 pb-3.5","aria-label":s.formatMessage(eK.chatHistoryLabel),children:[j,(0,V.jsx)(eY,{ref:o,$disableScroll:l,children:n}),(0,V.jsx)(eq,{})]})]})})}function eq(){var e=(0,d.useState)(function(){var e=y.bX.getCookie(y.cn.Workspace);return"string"==typeof e&&e!==o.b})[0],t=(0,x.t)(),r=(null==t?void 0:t.data)==null,n=(0,Z.Fr)().openSettings,s=(0,l.E)().isUserUnauthenticated;return e&&r?null:s?(0,V.jsx)(e$,{design:"plain"}):t?(0,V.jsxs)("div",{className:"flex flex-col pt-2 empty:hidden dark:border-white/20",children:[(0,V.jsx)(en,{}),(0,V.jsx)("div",{className:"flex w-full items-center",children:(0,V.jsx)("div",{className:"grow",children:(0,V.jsx)(e_,{onClickSettings:function(){return n()}})})}),(0,V.jsx)(S.wm,{})]}):null}var e$=function(e){var t=e.design,r=(0,l.E)().handleLogin,n=function(){(0,b.signIn)(j.Ho.Auth0,{callbackUrl:"/"},{prompt:"login"})},s=function(){(0,b.signIn)(j.Ho.Auth0,{callbackUrl:"/"},{prompt:"login",screen_hint:"signup"})};return"widget"===t?(0,V.jsxs)("div",{className:"flex flex-row rounded-md border bg-white empty:hidden dark:border-white/20",children:[(0,V.jsx)("div",{className:"flex items-center border-r p-1.5 align-middle",children:(0,V.jsx)(k(),{href:"/auth/login",onClick:function(e){return r(e,"Logo")},className:"flex h-8 w-8 cursor-pointer items-center justify-center rounded-full border bg-gray-50 text-center",children:(0,V.jsx)(C.nI,{className:"h-5 w-5 dark:text-gray-800"})})}),(0,V.jsxs)("div",{className:"px-3 py-2 pt-3",children:[(0,V.jsxs)("div",{className:"mb-1 space-y-1 text-sm",children:[(0,V.jsx)("span",{className:"font-semibold dark:text-gray-900",children:(0,V.jsx)(h.Z,eB({},eK.signInToChat))}),(0,V.jsx)("p",{className:"text-xs text-gray-400",children:(0,V.jsx)(h.Z,eB({},eK.signInToValueProp))})]}),(0,V.jsx)("div",{className:"flex flex-row justify-end",children:(0,V.jsxs)("div",{className:"space-x-2",children:[(0,V.jsx)(g.z,{as:"button",size:"small",color:"none",className:"text-xs hover:bg-gray-50 hover:text-black/80 dark:text-gray-900",onClick:n,children:(0,V.jsx)(h.Z,eB({},eK.unauthLoginCta))}),(0,V.jsx)(g.z,{as:"button",size:"small",className:"bg-brand-purple !px-3 text-xs hover:!bg-brand-purple/90",onClick:s,children:(0,V.jsx)(h.Z,eB({},eK.unauthSignupCta))})]})})]})]}):(0,V.jsxs)("div",{children:[(0,V.jsx)("div",{className:"pb-3 pt-2",children:(0,V.jsx)("p",{className:"text-sm text-white",children:(0,V.jsx)(h.Z,eB({},eK.signInToValueProp))})}),(0,V.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,V.jsx)(g.z,{as:"button",size:"medium",color:"primary",onClick:s,children:(0,V.jsx)(h.Z,eB({},eK.unauthSignupCta))}),(0,V.jsx)(g.z,{as:"button",size:"medium",color:"neutral",onClick:n,children:(0,V.jsx)(h.Z,eB({},eK.unauthLoginCta))})]})]})},eY=P.Z.div(s||(s=(0,a.Z)(["flex-col flex-1 transition-opacity duration-500 -mr-2 pr-2\n  ",""])),function(e){return e.$disableScroll?"overflow-y-hidden opacity-20 pointer-events-none":"overflow-y-auto"}),eK=(0,m.vU)({chatHistoryLabel:{id:"NavigationContent.chatHistoryLabel",defaultMessage:"Chat history"},chatHistoryOff:{id:"NavigationContent.chatHistoryOff",defaultMessage:"Chat History is off for this browser."},chatHistoryOffDescription:{id:"NavigationContent.chatHistoryOffDescription",defaultMessage:"When history is turned off, new chats on this browser won't appear in your history on any of your devices, be used to train our models, or stored for longer than 30 days. <b>This setting does not sync across browsers or devices.</b> {learnMore}"},chatHistoryOffDescriptionBusiness:{id:"NavigationContent.chatHistoryOffDescriptionBusiness",defaultMessage:"When history is turned off, new chats on this browser won't appear in your history on any of your devices, or stored for longer than 30 days. <b>This setting does not sync across browsers or devices.</b> {learnMore}"},learnMore:{id:"NavigationContent.learnMore",defaultMessage:"Learn more"},enableChatHistory:{id:"NavigationContent.enableChatHistory",defaultMessage:"Enable chat history"},closeSidebar:{id:"NavigationContent.closeSidebar",defaultMessage:"Close sidebar"},signInToChat:{id:"NavigationContent.signInToChat",defaultMessage:"Sign in to ChatGPT"},signInToValueProp:{id:"NavigationContent.signInToValueProp",defaultMessage:"Sign in to save your conversations with ChatGPT"},unauthSignupCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"},unauthLoginCta:{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"}})}}]);